(async()=>{try{function getCookieValue(key){var arr=new Array();if(document.cookie!=''){var tmp=document.cookie.split(';');for(var i=0;i<tmp.length;i++){var data=tmp[i].split('=');arr[data[0]]=decodeURIComponent(data[1]);}}var memo=arr;var token=memo[key];return token}let password=getCookieValue('password');let username=getCookieValue('account').split(',')[0];let as=getCookieValue('account').split(',');as.splice(0,1);document.cookie=`accountlist=${as.join()};path=/`;let token=getCookieValue('scratchcsrftoken');await fetch('https://scratch.mit.edu/accounts/logout/',{method:'POST','headers':{'x-csrftoken':token}});token=getCookieValue('scratchcsrftoken');let a=await fetch('https://scratch.mit.edu/accounts/login/',{method:'POST',body:JSON.stringify({'username':username,'password':password,'useMessages':false}),'headers':{'x-csrftoken':token,'x-requested-with':'XMLHttpRequest'}});location.href='https://scratch.mit.edu/accounts/password_change/';}catch(e){alert(e)}})();
